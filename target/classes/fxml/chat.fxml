<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>

<BorderPane prefHeight="600.0" prefWidth="800.0" 
            xmlns="http://javafx.com/javafx/17" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="chat.client.controller.ChatController"
            style="-fx-background-color: #0f172a;">
    
    <top>
        <HBox alignment="CENTER_LEFT" spacing="15"
              style="-fx-background-color: #1e293b;
                     -fx-border-color: #334155;
                     -fx-border-width: 0 0 1 0;
                     -fx-padding: 16 24;">
            
            <Label text="ðŸ’¬ ÐšÐžÐœÐÐÐ¢Ð Ð§ÐÐ¢Ð" 
                   style="-fx-text-fill: #f8fafc;
                          -fx-font-size: 16px;
                          -fx-font-weight: 700;
                          -fx-padding: 0 0 0 5;"/>
            
            <Region HBox.hgrow="ALWAYS"/>
            
            <HBox spacing="8" alignment="CENTER_RIGHT">
                <Label fx:id="userCountLabel" text="0 Ð¾Ð½Ð»Ð°Ð¹Ð½" />
            </HBox>
        </HBox>
    </top>
    
    <center>
        <TextArea fx:id="chatArea" editable="false" wrapText="true" 
                  style="-fx-background-color: #0f172a;
                         -fx-background-radius: 0;
                         -fx-border-color: transparent;
                         -fx-font-size: 14px;
                         -fx-font-family: 'Consolas', 'Monospace', monospace;
                         -fx-text-fill: #000000ff;
                         -fx-padding: 20 24;">
            <style>
                .content {
                    -fx-background-color: #0f172a;
                    -fx-cursor: default;
                    -fx-padding: 10;
                }
                
                .text {
                    -fx-fill: #000000ff;
                }
            </style>
        </TextArea>
    </center>
    
    <bottom>
        <HBox spacing="15" 
              style="-fx-background-color: #1e293b;
                     -fx-border-color: #334155;
                     -fx-border-width: 1 0 0 0;
                     -fx-padding: 20 24;">
            <TextField fx:id="messageField" onAction="#handleSend" 
                       HBox.hgrow="ALWAYS"
                       style="-fx-background-color: #1e293b;
                              -fx-background-radius: 12;
                              -fx-border-color: #334155;
                              -fx-border-width: 1;
                              -fx-border-radius: 12;
                              -fx-padding: 14 20;
                              -fx-font-size: 14px;
                              -fx-text-fill: #f8fafc;
                              -fx-prompt-text-fill: #64748b;"
                       promptText="ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ..."/>
            
            <Button text="ÐžÐ¢ÐŸÐ ÐÐ’Ð˜Ð¢Ð¬" onAction="#handleSend" defaultButton="true"
                    style="-fx-background-color: linear-gradient(to right, #0ea5e9, #3b82f6);
                           -fx-background-radius: 12;
                           -fx-text-fill: white;
                           -fx-font-weight: 700;
                           -fx-font-size: 14px;
                           -fx-padding: 14 30;
                           -fx-cursor: hand;
                           -fx-effect: dropshadow(gaussian, rgba(14, 165, 233, 0.3), 10, 0, 0, 2);"/>
        </HBox>
    </bottom>
    
    <style>
        .button:hover {
            -fx-scale-x: 1.02;
            -fx-scale-y: 1.02;
            -fx-transition: all 0.2s;
        }
        
        .button:pressed {
            -fx-scale-x: 0.98;
            -fx-scale-y: 0.98;
        }
        
        .text-field:focused {
            -fx-border-color: #0ea5e9;
            -fx-effect: dropshadow(gaussian, rgba(14, 165, 233, 0.2), 10, 0, 0, 0);
        }
        
        .scroll-bar:vertical {
            -fx-background-color: transparent;
            -fx-pref-width: 6px;
        }
        
        .scroll-bar:vertical .thumb {
            -fx-background-color: #334155;
            -fx-background-radius: 3px;
        }
        
        .scroll-bar:vertical .thumb:hover {
            -fx-background-color: #475569;
        }
    </style>
</BorderPane>